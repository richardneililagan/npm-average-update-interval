'use strict';

var got = require('got');
var throat = require('throat');

var memoize = require('lodash/memoize');

// :: attempt to remove http socket pooling
require('http').globalAgent.maxSockets = Infinity;

// :: limit outgoing HTTP requests to 10 concurrent requests
//    essentially perform the limiting ourselves
module.exports = throat(100, memoize(got));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9odHRwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxNQUFNLFFBQVEsS0FBUixDQUFOO0FBQ0osSUFBSSxTQUFTLFFBQVEsUUFBUixDQUFUOztBQUVKLElBQUksVUFBVSxRQUFRLGdCQUFSLENBQVY7OztBQUdKLFFBQVEsTUFBUixFQUFnQixXQUFoQixDQUE0QixVQUE1QixHQUF5QyxRQUF6Qzs7OztBQUlBLE9BQU8sT0FBUCxHQUFpQixPQUFPLEdBQVAsRUFBWSxRQUFRLEdBQVIsQ0FBWixDQUFqQiIsImZpbGUiOiJodHRwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdvdCA9IHJlcXVpcmUoJ2dvdCcpXHJcbnZhciB0aHJvYXQgPSByZXF1aXJlKCd0aHJvYXQnKVxyXG5cclxudmFyIG1lbW9pemUgPSByZXF1aXJlKCdsb2Rhc2gvbWVtb2l6ZScpXHJcblxyXG4vLyA6OiBhdHRlbXB0IHRvIHJlbW92ZSBodHRwIHNvY2tldCBwb29saW5nXHJcbnJlcXVpcmUoJ2h0dHAnKS5nbG9iYWxBZ2VudC5tYXhTb2NrZXRzID0gSW5maW5pdHlcclxuXHJcbi8vIDo6IGxpbWl0IG91dGdvaW5nIEhUVFAgcmVxdWVzdHMgdG8gMTAgY29uY3VycmVudCByZXF1ZXN0c1xyXG4vLyAgICBlc3NlbnRpYWxseSBwZXJmb3JtIHRoZSBsaW1pdGluZyBvdXJzZWx2ZXNcclxubW9kdWxlLmV4cG9ydHMgPSB0aHJvYXQoMTAwLCBtZW1vaXplKGdvdCkpXHJcbiJdfQ==